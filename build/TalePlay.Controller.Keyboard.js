(function(t,e,n){var i=n("Controller"),s=t.shortcut({rescope:"rescope"});i.Keyboard=t.Class(i,{init:function(t,e,n){this.superInit(i,void 0!==t?t:i.Keyboard.stdMapping,e),s.rescope.all(["onKeyDown","onKeyUp"],this),this.domElement=null,this.setDomElement(n||window)},setMapping:function(t){i.prototype.setMapping.call(this,t),this.mapping&&this.mapping.setValueOf("type","Keyboard")},setDomElement:function(t){this.domElement&&(this.domElement.removeEventListener("keydown",this.onKeyDown,!1),this.domElement.removeEventListener("keyup",this.onKeyUp,!1),this.domElement=null),t&&(this.domElement=t,t.addEventListener("keydown",this.onKeyDown,!1),t.addEventListener("keyup",this.onKeyUp,!1))},onKeyDown:function(t){this.onKey(t,1)},onKeyUp:function(t){this.onKey(t,0)},onKey:function(t,e){if(!this.disabled&&this.mapping&&(this.mapping.hasButtonMapping(t.code||t.key)||this.mapping.hasButtonAxisMapping(t.code||t.key))){t.preventDefault(),t.stopPropagation();var n={};n[t.code||t.key]=e,this.setButton(n)}},destroy:function(){this.setDomElement(),i.prototype.destroy.call(this)}}),i.Keyboard.stdMapping={buttons:{1:"2",2:"3",3:"4",4:"5",5:"6",6:"7"," ":"0",Shift:"1",Pause:"8",Enter:"9"},buttonAxis:{w:"1",d:"0",s:"-1",a:"-0",Up:"3",Right:"2",Down:"-3",Left:"-2"},axes:{}},e("Controller.Keyboard",i.Keyboard)})(Morgas,Morgas.setModule,Morgas.getModule);