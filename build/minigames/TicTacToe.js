(function(t,e,i){var s=i("GUI.Menu");i("shortcut")({menu:"Menu"});var n=t.Class(s,{init:function(t){t=t||{},t.type=s.Types.GRID,t.rows=t.columns=3,t.items=[0,0,0,0,0,0,0,0,0],t.converter=t.converter||n.defaultConverter,t.active=t.active||4,this.superInit(s,t),this.addStyleClass("TicTacToe"),this.createListener("finish"),this.player=t.player||["manual","manual"],this.setTurn(t.turn),this.addListener("select",this,"_select")},setTurn:function(t){this.turn=+!!t,this.domElement.dataset.turn=this.turn+1},toggleTurn:function(){this.setTurn(!this.turn)},_select:function(t){if(t.selected&&(this.toggleSelect(t.index),!t.value)){this.menu.items[t.index]=this.turn+1,this.update();var e=this.checkFinish();null!==e?this.fire("finish",{winner:e}):this.toggleTurn()}},checkFinish:function(){for(var t=this.menu.items,e=0;3>e;e++){if(t[3*e]&&t[3*e]===t[3*e+1]&&t[3*e]===t[3*e+2])return t[3*e];if(t[e]&&t[e]===t[e+3]&&t[e]===t[e+6])return t[e]}if(t[4]&&(t[4]===t[0]&&t[4]===t[8]||(t[4]===t[2]&&t[4])===t[6]))return t[4];for(var e=0;t.length>e;e++)if(!t[e])return null;return 0},clear:function(){this.menu.clear(),this.menu.addAll([0,0,0,0,0,0,0,0,0]),this.update(),this.toggleTurn(),this.setActive(4)}});n.defaultConverter=function(t){return 1==t?"◯":2==t?"✕":"&nbsp;"},e("Minigames.TicTacToe",n)})(Morgas,Morgas.setModule,Morgas.getModule);