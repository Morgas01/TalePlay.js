(function(t,e,n){var i=n("Controller"),s=n("shortcut")({rs:"rescope"}),o=i.Gamepad=t.Class(i,{init:function(t,e,n){this.superInit(i,e),s.rs.all(["update"],this),this.gamepadIndex=t.index,this.gamepad=t,this.precision=n||1,this.pollKey=null,this.addListener(".created:once",this,"update")},update:function(){if(this.gamepad=navigator.getGamepads()[this.gamepadIndex],this.gamepad){var t=this.precision;this.set(this.gamepad.buttons.map(function(t){return t.value}),this.gamepad.axes.map(function(e){return 1*e.toFixed(t)}))}this.pollKey=requestAnimationFrame(this.update)},toJSON:function(){var t=i.prototype.toJSON.call(this);return t.gpIndex=this.gpIndex,t},setDisabled:function(t){i.prototype.setDisabled.call(this,t),this.disabled?cancelAnimationFrame(this.pollKey):this.update()}});e("Controller.Gamepad",o)})(Morgas,Morgas.setModule,Morgas.getModule);