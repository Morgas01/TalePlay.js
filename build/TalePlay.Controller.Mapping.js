(function(t,e,i){var n=i("Controller"),s=i("DBObj"),o=i("shortcut")({DBField:"DBField"}),a=n.Mapping=t.Class(s,{objectType:"ControllerMapping",init:function(t){t=t||{},this.superInit(s,t),this.addField("name",o.DBField.TYPES.STRING,t.name||""),this.addField("type",o.DBField.TYPES.STRING,t.type||"");var e={buttons:{},buttonAxis:{},axes:{}};t.data&&(e.buttons=t.data.buttons||e.buttons,e.buttonAxis=t.data.buttonAxis||e.buttonAxis,e.axes=t.data.axes||e.axes),this.addField("data",o.DBField.TYPES.JSON,e)},setMapping:function(t,e,i){var n=this.getValueOf("data")[t];n&&(void 0===i||null===i?delete n[e]:n[e]=i)},getMapping:function(t,e){return this.getValueOf("data")[t][e]},removeMapping:function(t,e){this.setMapping(t,e)},hasMapping:function(t,e){var i=this.getValueOf("data")[t];return i?e in i:!1},setMappingAll:function(t,e){for(var i in e)this.setMapping(t,i,e[i])},setButtonMapping:function(t,e){this.setMapping("buttons",t,e)},getButtonMapping:function(t){var e=this.getMapping("buttons",t);return void 0===e&&(e=t),e},removeButtonMapping:function(t){this.removeMapping("buttons",t)},hasButtonMapping:function(t){return this.hasMapping("buttons",t)},setButtonAxisMapping:function(t,e){this.setMapping("buttonAxis",t,e)},getButtonAxisMapping:function(t){return this.getMapping("buttonAxis",t)},removeButtonAxisMapping:function(t){this.removeMapping("buttonAxis",t)},hasButtonAxisMapping:function(t){return this.hasMapping("buttonAxis",t)},setAxisMapping:function(t,e){this.setMapping("axes",t,e)},getAxisMapping:function(t){var e=this.getMapping("axes",t);return void 0===e&&(e=t),e},removeAxisMapping:function(t){this.removeMapping("axes",t)},hasAxisMapping:function(t){return this.hasMapping("axes",t)},convertAxisValue:function(t,e){return Math.sign(1/t)*e},getReverseMapping:function(){var t=this.getValueOf("data"),e={buttons:{},buttonAxis:{},axes:{}};for(var i in t)for(var n in t[i]){var s=t[i][n];"axes"===i&&0>1/s?(s=-s,n="-"+n):0===s&&0>1/s&&(s="-0"),e[i][s]=n}return e}});e("Controller.Mapping",a)})(Morgas,Morgas.setModule,Morgas.getModule);