(function(t,e){var i=window.TalePlay=window.TalePlay||{};i.Math=i.Math||{};var s=i.Math.Point=t.Class({init:function(t,e){this.x=0,this.y=0,this.set(t,e)},set:function(t,e){return"object"==typeof t&&null!==t?(this.x=1*t.x,this.y=1*t.y):"number"==typeof t&&(this.x=1*t,void 0===e&&(e=t),this.y=1*e),this},clone:function(t){return t||(t=new s),t.set(this.x,this.y),t},equals:function(t,e){return"object"==typeof t&&null!==t?this.x==t.x&&this.y==t.y:"number"==typeof t?(void 0===e&&(e=t),this.x==t&&this.y==e):!1},add:function(t,e){return"object"==typeof t&&null!==t?(this.x+=1*t.x,this.y+=1*t.y):"number"==typeof t&&(this.x+=1*t,void 0===e&&(e=t),this.y+=1*e),this},sub:function(t,e){return"object"==typeof t&&null!==t?(this.x-=t.x,this.y-=t.y):"number"==typeof t&&(this.x-=t,void 0===e&&(e=t),this.y-=e),this},mul:function(t,e){return"object"==typeof t&&null!==t?(this.x*=t.x,this.y*=t.y):"number"==typeof t&&(this.x*=t,void 0===e&&(e=t),this.y*=e),this},div:function(t,e){return"object"==typeof t&&null!==t?(this.x/=t.x,this.y/=t.y):"number"==typeof t&&(this.x/=t,void 0===e&&(e=t),this.y/=e),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},invert:function(){return this.x=1/this.x,this.y=1/this.y,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){var t=this.length();return t&&this.div(t),this},getAngle:function(){if(0!==this.y||0!==this.x){var t=Math.asin(this.y/this.length());return this.x>=0?t=Math.PI/2-t:t+=1.5*Math.PI,t}return 0},doMath:function(t,e,i){return"object"==typeof e&&null!==e?(this.x=t(this.x,1*e.x),this.y=t(this.y,1*e.y)):"number"==typeof e&&(this.x=t(this.x,1*e),void 0===i&&(i=1*e),this.y=t(this.y,i)),this}});e("Math.Point",s)})(Morgas,Morgas.setModule,Morgas.getModule);